#have decision give a popup major event to the taker and the ultimatum to the others

#ultimatum refused (event not necessary anymore?...)
country_event = {
	#ultimatum refusal
	id = 500246
	title = "Nuclear Ultimatum Refused!"
	desc = "event500246desc"

	is_triggered_only = yes
	allow_multiple_instances = yes

	immediate = {
		add_country_modifier = {
			name = nuclear_countdown
			duration = 365 #180
		}
		add_country_modifier = {
			name = nuclear_threat
			duration = 3650 #2920
		}
		set_country_flag = trying_to_nuke
	}

	option = {
		name = "The horror!"
	}
}

#nuclear launch (event for ultimatum issuer)
country_event = {
	#launch event
	id = 500244
	title = "Nuclear Launch!"
	desc = "event500244desc"

	major = yes

	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		has_country_flag = trying_to_nuke
		NOT = {has_country_flag = german_nuke}
		NOT = {has_country_modifier = nuclear_countdown}
		NOT = {has_global_flag = nuke_in_progress}
		war = yes
	}

	immediate = {
		set_global_flag = nuke_in_progress
		clr_country_flag = trying_to_nuke

		#owned nuke finder
		any_owned = {
			limit = {
				is_capital = yes
				owner = {
					has_country_flag = primary_nukes
					NOT = {national_provinces_occupied = 0.5}
				}
			}
			set_global_flag = hit_global_nukes
		}

		#THIS primary europe
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = europe
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = europe
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_europe
					}
				}
			}
		}
		#THIS primary asia
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = asia
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = asia
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_asia
					}
				}
			}
		}
		#THIS primary middle_east
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = middle_east
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = middle_east
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_middle_east
					}
				}
			}
		}
		#THIS primary central_asia
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = central_asia
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = central_asia
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_central_asia
					}
				}
			}
		}
		#THIS primary africa
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = africa
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = africa
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_africa
					}
				}
			}
		}
		#THIS primary north_america
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = north_america
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = north_america
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_north_america
					}
				}
			}
		}
		#THIS primary south_america
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = south_america
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = south_america
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_south_america
					}
				}
			}
		}
		#THIS primary oceania
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = oceania
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = oceania
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_oceania
					}
				}
			}
		}
		#THIS primary russia_anarchy
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = russia_anarchy
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = russia_anarchy
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_russia_anarchy
					}
				}
			}
		}

		#sphere primary europe
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = europe
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = europe
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_europe
				}
			}
		}
		#sphere primary asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_asia
				}
			}
		}
		#sphere primary middle_east
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = middle_east
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = middle_east
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_middle_east
				}
			}
		}
		#sphere primary central_asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = central_asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = central_asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_central_asia
				}
			}
		}
		#sphere primary africa
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = africa
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = africa
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_africa
				}
			}
		}
		#sphere primary north_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = north_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = north_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_north_america
				}
			}
		}
		#sphere primary south_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = south_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = south_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_south_america
				}
			}
		}
		#sphere primary oceania
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = oceania
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = oceania
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_oceania
				}
			}
		}
		#sphere primary russia_anarchy
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_russia_anarchy
				}
			}
		}

		#sphere secondary europe
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = europe
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = europe
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_europe
				}
			}
		}
		#sphere secondary asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_asia
				}
			}
		}
		#sphere secondary middle_east
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = middle_east
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = middle_east
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_middle_east
				}
			}
		}
		#sphere secondary central_asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = central_asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = central_asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_central_asia
				}
			}
		}
		#sphere secondary africa
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = africa
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = africa
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_africa
				}
			}
		}
		#sphere secondary north_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = north_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = north_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_north_america
				}
			}
		}
		#sphere secondary south_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = south_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = south_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_south_america
				}
			}
		}
		#sphere secondary oceania
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = oceania
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = oceania
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_oceania
				}
			}
		}
		#sphere secondary russia_anarchy
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_russia_anarchy
				}
			}
		}

		#enemy sphere finder
		any_country = {
			limit = {
				is_greater_power = yes
				war_with = THIS
				NOT = {tag = REB}
			}
			set_country_flag = enemy_leader
		}
		any_country = {
			limit = {
				is_greater_power = no
				part_of_sphere = yes
				war_with = THIS
				NOT = {sphere_owner = {tag = REB}}
			}
			sphere_owner = {set_country_flag = enemy_leader}
		}
		any_country = {
			limit = {
				part_of_sphere = yes
				sphere_owner = {has_country_flag = enemy_leader}
			}
			set_country_flag = enemy_sphere
		}
		any_country = {
			limit = {
				is_greater_power = no
				part_of_sphere = no
				war_with = THIS
				NOT = {tag = REB}
			}
			set_country_flag = enemy_solo
		}

		#nuking effect
		any_country = {
			limit = {
				OR = {
					has_country_flag = enemy_leader
					has_country_flag = enemy_sphere
					has_country_flag = enemy_solo
				}
			}

			#global nuke
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_5
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_4
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_2
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_1
			}

			#primary same continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
						has_crime = nuke_3
					}
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_3
			}

			#primary neighboring continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
					}
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_2
			}

			#secondary same continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
					}
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_2
			}

			#secondary neighboring continent
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_5
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_4
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_2
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_1
			}
		}

		clr_global_flag = primary_europe
		clr_global_flag = primary_asia
		clr_global_flag = primary_middle_east
		clr_global_flag = primary_central_asia
		clr_global_flag = primary_africa
		clr_global_flag = primary_north_america
		clr_global_flag = primary_south_america
		clr_global_flag = primary_oceania
		clr_global_flag = primary_russia_anarchy

		clr_global_flag = secondary_europe
		clr_global_flag = secondary_asia
		clr_global_flag = secondary_middle_east
		clr_global_flag = secondary_central_asia
		clr_global_flag = secondary_africa
		clr_global_flag = secondary_north_america
		clr_global_flag = secondary_south_america
		clr_global_flag = secondary_oceania
		clr_global_flag = secondary_russia_anarchy

		clr_global_flag = hit_global_nukes

		any_country = {
			limit = {
				has_country_flag = enemy_leader
			}
			set_country_flag = response_leader
			clr_country_flag = enemy_leader
		}
		any_country = {
			limit = {
				has_country_flag = enemy_sphere
			}
			clr_country_flag = enemy_sphere
		}
		any_country = {
			limit = {
				has_country_flag = enemy_solo
			}
			set_country_flag = response_solo
			clr_country_flag = enemy_solo
		}

		any_country = {
			limit = {has_country_flag = response_leader NOT = {tag = REB}}
			clr_country_flag = response_leader
			country_event = 500245
		}

		any_country = {
			limit = {has_country_flag = response_solo NOT = {tag = REB}}
			clr_country_flag = response_solo
			country_event = 500245
		}
	}

	option = {
		name = "The horror!"
	}
}

#nuclear launch (response event)
country_event = {
	#response event
	id = 500245
	title = "Nuclear Launch Detected!"
	desc = "event500245desc"

	is_triggered_only = yes
	allow_multiple_instances = yes

	immediate = {
		clr_global_flag = nuke_in_progress

		#owned nuke finder
		any_owned = {
			limit = {
				is_capital = yes
				owner = {
					has_country_flag = primary_nukes
					NOT = {national_provinces_occupied = 0.5}
				}
			}
			set_global_flag = hit_global_nukes
		}

		#THIS primary europe
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = europe
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = europe
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_europe
					}
				}
			}
		}
		#THIS primary asia
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = asia
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = asia
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_asia
					}
				}
			}
		}
		#THIS primary middle_east
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = middle_east
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = middle_east
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_middle_east
					}
				}
			}
		}
		#THIS primary central_asia
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = central_asia
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = central_asia
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_central_asia
					}
				}
			}
		}
		#THIS primary africa
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = africa
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = africa
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_africa
					}
				}
			}
		}
		#THIS primary north_america
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = north_america
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = north_america
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_north_america
					}
				}
			}
		}
		#THIS primary south_america
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = south_america
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = south_america
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_south_america
					}
				}
			}
		}
		#THIS primary oceania
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = oceania
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = oceania
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_oceania
					}
				}
			}
		}
		#THIS primary russia_anarchy
		random_owned = {
			limit = {
				owner = {
					has_country_flag = primary_nukes
				}
			}
			owner = {
				set_variable = {
					which = nuke_occupation
					value = 1
				}
				any_owned = {
					limit = {
						continent = russia_anarchy
						controlled_by = owner
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = 1
						}
					}
				}
				any_owned = {
					limit = {
						continent = russia_anarchy
						NOT = {controlled_by = owner}
					}
					owner = {
						change_variable = {
							which = nuke_occupation
							value = -1
						}
					}
				}
				random_owned = {
					limit = {
						owner = {
							check_variable = {
								which = nuke_occupation
								value = 2
							}
						}
					}
					owner = {
						set_global_flag = primary_russia_anarchy
					}
				}
			}
		}

		#sphere primary europe
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = europe
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = europe
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_europe
				}
			}
		}
		#sphere primary asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_asia
				}
			}
		}
		#sphere primary middle_east
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = middle_east
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = middle_east
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_middle_east
				}
			}
		}
		#sphere primary central_asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = central_asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = central_asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_central_asia
				}
			}
		}
		#sphere primary africa
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = africa
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = africa
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_africa
				}
			}
		}
		#sphere primary north_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = north_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = north_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_north_america
				}
			}
		}
		#sphere primary south_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = south_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = south_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_south_america
				}
			}
		}
		#sphere primary oceania
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = oceania
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = oceania
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_oceania
				}
			}
		}
		#sphere primary russia_anarchy
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = primary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = primary_russia_anarchy
				}
			}
		}

		#sphere secondary europe
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = europe
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = europe
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_europe
				}
			}
		}
		#sphere secondary asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_asia
				}
			}
		}
		#sphere secondary middle_east
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = middle_east
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = middle_east
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_middle_east
				}
			}
		}
		#sphere secondary central_asia
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = central_asia
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = central_asia
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_central_asia
				}
			}
		}
		#sphere secondary africa
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = africa
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = africa
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_africa
				}
			}
		}
		#sphere secondary north_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = north_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = north_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_north_america
				}
			}
		}
		#sphere secondary south_america
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = south_america
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = south_america
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_south_america
				}
			}
		}
		#sphere secondary oceania
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = oceania
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = oceania
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_oceania
				}
			}
		}
		#sphere secondary russia_anarchy
		any_country = {
			limit = {
				in_sphere = THIS
				has_country_flag = secondary_nukes
			}

			set_variable = {
				which = nuke_occupation
				value = 1
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					controlled_by = owner
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = 1
					}
				}
			}
			any_owned = {
				limit = {
					continent = russia_anarchy
					NOT = {controlled_by = owner}
				}
				owner = {
					change_variable = {
						which = nuke_occupation
						value = -1
					}
				}
			}
			random_owned = {
				limit = {
					owner = {
						check_variable = {
							which = nuke_occupation
							value = 2
						}
					}
				}
				owner = {
					set_global_flag = secondary_russia_anarchy
				}
			}
		}
		
		#enemy sphere finder
		FROM = {
			set_country_flag = enemy_leader
		}
		any_country = {
			limit = {
				NOT = {has_country_flag = enemy_leader}
				part_of_sphere = yes
				sphere_owner = {has_country_flag = enemy_leader}
			}
			set_country_flag = enemy_sphere
		}

		#nuking effect
		any_country = {
			limit = {
				OR = {
					has_country_flag = enemy_leader
					has_country_flag = enemy_sphere
					#has_country_flag = enemy_solo #no difference?...
				}
			}

			#global nuke
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_5
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_4
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_2
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					has_global_flag = hit_global_nukes
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_1
			}

			#primary same continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
						has_crime = nuke_3
					}
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
				
					OR = {
						AND = {
							continent = europe
							has_global_flag = primary_europe
						}
						AND = {
							continent = asia
							has_global_flag = primary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = primary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = primary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = primary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = primary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = primary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = primary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = primary_russia_anarchy
						}
					}
				}
				#nuke heavy
				set_province_flag = disease

				add_crime = nuke_3
			}

			#primary neighboring continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
					}
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = primary_europe}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_africa
								has_global_flag = primary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = primary_asia}
							OR = {
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_oceania
								has_global_flag = primary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = primary_middle_east}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_africa
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = primary_central_asia}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_russia_anarchy
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = primary_africa}
							OR = {
								has_global_flag = primary_middle_east
								has_global_flag = primary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = primary_north_america}
							OR = {
								has_global_flag = primary_south_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = primary_south_america}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = primary_oceania}
							OR = {
								has_global_flag = primary_north_america
								has_global_flag = primary_south_america
								has_global_flag = primary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = primary_russia_anarchy}
							OR = {
								has_global_flag = primary_central_asia
								has_global_flag = primary_asia
								has_global_flag = primary_europe
							}
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_2
			}

			#secondary same continent
			any_owned = {
				limit = {
					total_pops = 100000
					OR = {
						has_crime = nuke_5
						has_crime = nuke_4
					}
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					OR = {
						AND = {
							continent = europe
							has_global_flag = secondary_europe
						}
						AND = {
							continent = asia
							has_global_flag = secondary_asia
						}
						AND = {
							continent = middle_east
							has_global_flag = secondary_middle_east
						}
						AND = {
							continent = central_asia
							has_global_flag = secondary_central_asia
						}
						AND = {
							continent = africa
							has_global_flag = secondary_africa
						}
						AND = {
							continent = north_america
							has_global_flag = secondary_north_america
						}
						AND = {
							continent = south_america
							has_global_flag = secondary_south_america
						}
						AND = {
							continent = oceania
							has_global_flag = secondary_oceania
						}
						AND = {
							continent = russia_anarchy
							has_global_flag = secondary_russia_anarchy
						}
					}
				}
				#nuke medium
				set_province_flag = disease

				add_crime = nuke_2
			}

			#secondary neighboring continent
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_5
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_6
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_4
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_5
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_3
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_4
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_2
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_3
			}
			any_owned = {
				limit = {
					total_pops = 100000
					has_crime = nuke_1
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_2
			}
			any_owned = {
				limit = {
					total_pops = 100000
					NOT = {has_crime = nuke_6}
					NOT = {has_crime = nuke_5}
					NOT = {has_crime = nuke_4}
					NOT = {has_crime = nuke_3}
					NOT = {has_crime = nuke_2}
					NOT = {has_crime = nuke_1}
					OR = {
						AND = {
							continent = europe
							NOT = {has_global_flag = secondary_europe}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_africa
								has_global_flag = secondary_russia_anarchy
							}
						}
						AND = {
							continent = asia
							NOT = {has_global_flag = secondary_asia}
							OR = {
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_oceania
								has_global_flag = secondary_central_asia
							}
						}
						AND = {
							continent = middle_east
							NOT = {has_global_flag = secondary_middle_east}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_africa
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = central_asia
							NOT = {has_global_flag = secondary_central_asia}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_russia_anarchy
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = africa
							NOT = {has_global_flag = secondary_africa}
							OR = {
								has_global_flag = secondary_middle_east
								has_global_flag = secondary_europe
							}
						}
						AND = {
							continent = north_america
							NOT = {has_global_flag = secondary_north_america}
							OR = {
								has_global_flag = secondary_south_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = south_america
							NOT = {has_global_flag = secondary_south_america}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_oceania
							}
						}
						AND = {
							continent = oceania
							NOT = {has_global_flag = secondary_oceania}
							OR = {
								has_global_flag = secondary_north_america
								has_global_flag = secondary_south_america
								has_global_flag = secondary_asia
							}
						}
						AND = {
							continent = russia_anarchy
							NOT = {has_global_flag = secondary_russia_anarchy}
							OR = {
								has_global_flag = secondary_central_asia
								has_global_flag = secondary_asia
								has_global_flag = secondary_europe
							}
						}
					}
				}
				#nuke light
				set_province_flag = disease

				add_crime = nuke_1
			}
		}

		clr_global_flag = primary_europe
		clr_global_flag = primary_asia
		clr_global_flag = primary_middle_east
		clr_global_flag = primary_central_asia
		clr_global_flag = primary_africa
		clr_global_flag = primary_north_america
		clr_global_flag = primary_south_america
		clr_global_flag = primary_oceania
		clr_global_flag = primary_russia_anarchy

		clr_global_flag = secondary_europe
		clr_global_flag = secondary_asia
		clr_global_flag = secondary_middle_east
		clr_global_flag = secondary_central_asia
		clr_global_flag = secondary_africa
		clr_global_flag = secondary_north_america
		clr_global_flag = secondary_south_america
		clr_global_flag = secondary_oceania
		clr_global_flag = secondary_russia_anarchy

		clr_global_flag = hit_global_nukes

		any_country = {
			limit = {
				has_country_flag = enemy_leader
			}
			clr_country_flag = enemy_leader
		}
		any_country = {
			limit = {
				has_country_flag = enemy_sphere
			}
			clr_country_flag = enemy_sphere
		}
	}

	option = {
		name = "The horror!"
	}
}

#ultimatum canceled
country_event = {
	#ultimatum canceled
	id = 500247
	title = "Nuclear Launch Canceled"
	desc = "With the de-escalation of our conflict the nuclear launch we were preparing was canceled."
	
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		war = no 
		OR = {
			has_country_flag = trying_to_nuke
			#has_country_modifier = nuclear_threat
			has_country_modifier = nuclear_countdown
		}
	}
	immediate = {
		clr_country_flag = trying_to_nuke
		clr_country_flag = german_nuke
		#remove_country_modifier = nuclear_threat
		remove_country_modifier = nuclear_countdown
	}
	option = {
		name = "Crisis adverted!"
	}
}

#ultimatum (event for recipient)
country_event = {
	#ultimatum
	id = 500248
	title = "Nuclear Ultimatum!"
	desc = "event500248desc"

	is_triggered_only = yes
	allow_multiple_instances = yes

	immediate = {
		FROM = {remove_country_modifier = nuclear_threat} #should remove this to prevent nuke preventing by stalling
	}

	option = {
		name = "We will never settle for a meager peace!"
		FROM = {country_event = 500246}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				war_policy = jingoism
			}
			modifier = {
				factor = 2.0
				FROM = {
					any_owned_province = {
						is_core = THIS
					}
				}
			}
		}
	}
	option = {
		name = "We must back down from the brink!"
		FROM = {end_war = THIS} #will kick THIS out of the wars FROM is in
		FROM = {
			add_country_modifier = {
				name = enemy_sphere_marker
				duration = 2
			}
		}
		any_country = {
			limit = {
				in_sphere = FROM
				FROM = {is_greater_power = yes}
			}
			end_war = THIS
		}
		any_country = { # need to change this up...
			limit = {
				NOT = {tag = REB}
				in_sphere = THIS
				THIS = {is_greater_power = yes}
			}
			#end_war = FROM
			country_event = 500249
		}
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				AND = {
					war_with = FROM
					has_country_flag = primary_nukes
				}
			}
			
			modifier = {
				factor = 0.8
				AND = {
					war_with = FROM
					NOT = {has_country_flag = primary_nukes}
				}
			}
		}
	}
}

#ultimatum acceptance (event for ultimatum recipient spherelings)
country_event = {
	#ultimatum
	id = 500249
	title = "Nuclear Ultimatum Accepted!"
	desc = "event500249desc"

	is_triggered_only = yes
	allow_multiple_instances = yes

	immediate = {
		any_country = {
			limit = {
				war_with = THIS
				has_country_modifier = enemy_sphere_marker
			}
			end_war = THIS
		}
		any_country = {
			limit = {
				war_with = THIS
				part_of_sphere = yes
				is_greater_power = no
				sphere_owner = {
					has_country_modifier = enemy_sphere_marker
				}
			}
			end_war = THIS
		}
	}
	option = {
		name = "This close to armageddon..."
	}
}

#nuclear countdown creater (event for ultimatum issuer. to prevent holding/stalling ultimatums)
country_event = {
	#major alert of threat
	id = 500250
	title = "Nuclear Ultimatum!"
	desc = "event500250desc"

	major = yes

	is_triggered_only = yes
	allow_multiple_instances = yes

	option = {
		name = "May god help us..."

		add_country_modifier = {
			name = nuclear_countdown
			duration = 365
		}
		add_country_modifier = {
			name = nuclear_threat
			duration = 3650 #2920
		}
		set_country_flag = trying_to_nuke
	}
}

#nuclear disarmament
country_event = {
	id = 500251
	title = "Nuclear stockpile siezed!"
	desc = "Our nuclear stockpile has been siezed and disarmed!"

	is_triggered_only = yes

	immediate = {
		any_owned = {
			limit = {
				is_capital = yes
				owner = {
					has_country_flag = primary_nukes
				}
			}
			FROM = {
				clr_country_flag = secondary_nukes
				clr_country_flag = developing_nukes
				remove_country_modifier = nuc_dev
				set_country_flag = primary_nukes
			}
		}

		clr_country_flag = primary_nukes
		clr_country_flag = developing_nukes
		remove_country_modifier = nuc_dev

		clr_country_flag = trying_to_nuke
		remove_country_modifier = nuclear_threat
		remove_country_modifier = nuclear_countdown

	}

	option = {
		name = "Drat!"
	}
}

#nuclear proxy disarmament
country_event = {
	id = 500252
	title = "Nuclear proxy sites disarmed!"
	desc = "The nuclear proxies our sphere leader has placed in us have been disarmed and removed!"

	is_triggered_only = yes

	immediate = {
		clr_country_flag = secondary_nukes
		#clr_country_flag = developing_nukes
		#remove_country_modifier = nuc_dev
		add_country_modifier = {
			name = nuc_timeout
			duration = 7300
		}
	}

	option = {
		name = "Drat!"
	}
}

#nuclear development finished event
country_event = {
	id = 500253
	title = "Nuclear development finished!"
	desc = "Our nuclear development plan has finished and have finally produced nuclear weapons!"

	trigger = {
		has_country_flag = developing_nukes
		NOT = {
			has_country_modifier = nuc_dev
		}
		
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		clr_country_flag = secondary_nukes
		clr_country_flag = developing_nukes
		remove_country_modifier = nuc_dev
		set_country_flag = primary_nukes
	}

	option = {
		name = "Success!"
	}
}

#nuclear proxy cleanup/removal
country_event = {
	id = 500254
	title = "Nuclear proxy site cleanup!"
	desc = "If we lose our sphere or acquire nuclear weapons of our own we this event will cleanup and remove our nuclear proxy status."

	trigger = {
		OR = {
			AND = {
				has_country_flag = primary_nukes
				has_country_flag = secondary_nukes
			}
			AND = {
				has_country_flag = secondary_nukes
				part_of_sphere = no
			}
			AND = {
				has_country_flag = secondary_nukes
				part_of_sphere = yes
				NOT = {
					sphere_owner = {
						has_country_flag = primary_nukes
					}
				}
			}
			AND = {
				has_country_flag = secondary_nukes
				is_greater_power = yes
			}
		}
		
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		clr_country_flag = secondary_nukes
	}

	option = {
		name = "Ok."
	}
}

#nuclear proxy request
country_event = {
	id = 500255
	title = "Nuclear Proxy Request"
	desc = "Our sphere leader is requesting that we host nuclear proxy sites for them. If we do so we will extend the range of their nuclear strikes to our continent."

	is_triggered_only = yes

	option = {
		name = "Of course!"
		set_country_flag = secondary_nukes
		add_country_modifier = {
			name = nuke_proxy_yes
			duration = 1825
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				war_policy = jingoism
			}
			modifier = {
				factor = 3
				has_recently_lost_war = yes
			}
			modifier = {
				factor = 4
				vassal_of = FROM
			}
			modifier = {
				factor = 0
				tag = CBR
			}
			modifier = {
				factor = 0
				tag = OFN
			}
			modifier = {
				factor = 0
				tag = CFR
			}
			modifier = {
				factor = 0
				tag = CAN
			}
		}
	}
	option = {
		name = "We will not be host to global conflicts!"
		add_country_modifier = {
			name = nuke_proxy_no
			duration = 1825
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				war_policy = pacifism
			}
			modifier = {
				factor = 0
				vassal_of = FROM
			}
		}
	}
}

